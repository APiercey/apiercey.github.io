<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<title>RygelDB - apiercey.github.io</title>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=icon href=/favicon.png>
<link rel=stylesheet href=/css/style.min.4b2bfb3701049fe0da3e8d6b9d15186ba1dc7e294f0be3e2bca21bb8a330f5dd.css>
<meta name=description content="&#34;What the Yotz?!&#34; - A NoSQL document store implemented in Go.">
<meta property="og:title" content="RygelDB">
<meta property="og:type" content="website">
<meta property="og:url" content="/projects/rygel-db/">
<meta property="og:image" content="/images/space-cerqueira.jpg">
<meta property="og:description" content="&#34;What the Yotz?!&#34; - A NoSQL document store implemented in Go.">
<meta name=twitter:card content="summary">
<meta name=twitter:site content="@example">
<meta name=twitter:creator content="@example">
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel=stylesheet>
</head>
<body class="page page-default-single">
<div id=wrapper class=wrapper>
<div class=header>
<a class=header-logo href=/>apiercey.github.io</a>
<div class=menu-main>
<ul>
<li class=menu-item-about>
<a href=/pages/about/>About</a>
</li>
<li class=menu-item-blog>
<a href=/posts/>Blog</a>
</li>
<li class=menu-item-projects>
<a href=/projects/>Projects</a>
</li>
<li class=menu-item-articles>
<a href=/articles/>Articles</a>
</li>
</ul>
</div>
</div>
<div class=intro>
<h1>RygelDB<span class=dot>.</span></h1>
<img src=/images/space-cerqueira.jpg>
</div>
<div class=content>
<h1 id=rygeldb>RygelDB</h1>
<p><a href=https://github.com/APiercey/RygelDB>RygelDB</a> is a NoSQL document store using commands to store and query documents!</p>
<blockquote>
<p>What the Yotz?! - Dominar Rygel the XVI</p>
</blockquote>
<h2 id=usage>Usage</h2>
<p>Run <code>go run .</code> or <code>go build .</code>, as you like.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ go run .

Starting tcp server on localhost:8080
</code></pre></div><p>You can connect using a socket once it has started like so:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>nc localhost 8080
</code></pre></div><h3 id=storing-and-querying-data>Storing and Querying Data</h3>
<p>Rygel is collection based and uses commands to store and query data.</p>
<p>All commands can be sent over socket. To test them individually, you may pipe time:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>echo</span> <span class=s2>&#34;DEFINE COLLECTION my_new_collection&#34;</span> <span class=p>|</span> nc localhost <span class=m>8080</span>
</code></pre></div><h4 id=defining-collections>Defining Collections</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>DEFINE</span> <span class=no>COLLECTION</span> <span class=n>collection_name</span>
</code></pre></div><p>will create a new collection where document items may be stored.</p>
<h4 id=storing-data>Storing Data</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>STORE</span> <span class=no>INTO</span> <span class=n>collection_name</span> <span class=n>key</span> <span class=p>{</span><span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=s2>&#34;structure of document&#34;</span><span class=p>}</span>
</code></pre></div><p>will store a document item.</p>
<h4 id=lookup-of-direct-data>Lookup of direct data</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>LOOKUP</span> <span class=n>key</span> <span class=no>IN</span> <span class=n>collection_name</span>
</code></pre></div><p>retrieves a document by key</p>
<h4 id=querying-data>Querying data</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>FETCH</span> <span class=o>[</span><span class=n>all</span> <span class=o>|</span> <span class=mi>1</span><span class=p>,</span> <span class=o>...</span><span class=n>n</span><span class=o>]</span> <span class=no>FROM</span> <span class=n>collection_name</span> <span class=o>[</span><span class=no>WHERE</span> <span class=n>path</span><span class=o>.</span><span class=n>of</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>properties</span> <span class=no>IS</span> <span class=n>value</span> <span class=no>AND</span> <span class=o>...</span><span class=n>n</span><span class=o>]</span>
</code></pre></div><p>queries data using 0 or many WHERE clauses and enforces either <em>all</em> or a limit.</p>
<p>Given the following data:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>DEFINE</span> <span class=no>COLLECTION</span> <span class=n>fruits</span>
<span class=no>STORE</span> <span class=no>INTO</span> <span class=n>fruits</span> <span class=n>apple</span> <span class=p>{</span><span class=s2>&#34;key&#34;</span><span class=ss>:&#34;apple&#34;</span><span class=p>,</span><span class=s2>&#34;color&#34;</span><span class=ss>:&#34;red&#34;</span><span class=p>}</span>
<span class=no>STORE</span> <span class=no>INTO</span> <span class=n>fruits</span> <span class=n>orange</span> <span class=p>{</span><span class=s2>&#34;key&#34;</span><span class=ss>:&#34;orange&#34;</span><span class=p>,</span><span class=s2>&#34;color&#34;</span><span class=ss>:&#34;orange&#34;</span><span class=p>}</span>
</code></pre></div><p>Querying for a single document would look like:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>FETCH</span> <span class=mi>1</span> <span class=no>FROM</span> <span class=n>fruits</span>
</code></pre></div><blockquote>
<p>[{&ldquo;color&rdquo;:&ldquo;orange&rdquo;,&ldquo;key&rdquo;:&ldquo;orange&rdquo;}]</p>
</blockquote>
<p>Querying for all documents that meet a criteria:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>FETCH</span> <span class=n>all</span> <span class=no>FROM</span> <span class=n>fruits</span> <span class=no>WHERE</span> <span class=n>color</span> <span class=no>IS</span> <span class=n>red</span>
</code></pre></div><blockquote>
<p>[{&ldquo;color&rdquo;:&ldquo;red&rdquo;,&ldquo;key&rdquo;:&ldquo;apple&rdquo;}]</p>
</blockquote>
<p>It&rsquo;s possible to query based on deep properties and multiple WHERE clauses:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>STORE</span> <span class=no>INTO</span> <span class=n>fruits</span> <span class=n>orange</span> <span class=p>{</span><span class=s2>&#34;key&#34;</span><span class=ss>:&#34;dragonfruit&#34;</span><span class=p>,</span><span class=s2>&#34;color&#34;</span><span class=ss>:&#34;red&#34;</span><span class=p>,</span><span class=s2>&#34;properties&#34;</span><span class=p>:{</span><span class=s2>&#34;spikes&#34;</span><span class=ss>:&#34;many&#34;</span><span class=p>,</span><span class=s2>&#34;internal_color&#34;</span><span class=ss>:&#34;white&#34;</span><span class=p>}}</span>
<span class=no>FETCH</span> <span class=n>all</span> <span class=no>FROM</span> <span class=n>fruits</span> <span class=no>WHERE</span> <span class=n>color</span> <span class=no>IS</span> <span class=n>red</span> <span class=no>AND</span> <span class=n>properties</span><span class=o>.</span><span class=n>internal_color</span> <span class=no>IS</span> <span class=n>white</span>
</code></pre></div><blockquote>
<p>[{&ldquo;color&rdquo;:&ldquo;red&rdquo;,&ldquo;key&rdquo;:&ldquo;dragonfruit&rdquo;,&ldquo;properties&rdquo;:{&ldquo;internal_color&rdquo;:&ldquo;white&rdquo;,&ldquo;spikes&rdquo;:&ldquo;many&rdquo;}}]</p>
</blockquote>
<h4 id=remove-data>Remove data</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=no>REMOVE</span> <span class=o>[</span><span class=no>COLLECTION</span> <span class=o>|</span> <span class=no>ITEM</span><span class=o>]</span> <span class=n>collection_name</span> <span class=o>[</span><span class=n>key</span><span class=o>]</span>
</code></pre></div><p>removes either a collection or a document item in a colleciton. Key is mandatory when removing a document item.</p>
<hr>
<blockquote>
<p>May your afterlife be almost as pleasant as mine. - Dominar Rygel the XVI</p>
</blockquote>
</div>
<div class=footer>
<div class=footer-social>
<span class="social-icon social-icon-github">
<a href=https://github.com/apiercey title=github target=_blank rel=noopener>
<img src=/images/social/github.svg width=24 height=24 alt=github>
</a>
</span>
<span class="social-icon social-icon-linkedin">
<a href=https://www.linkedin.com/in/alexander-butt-piercey title=linkedin target=_blank rel=noopener>
<img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin>
</a>
</span>
</div>
</div>
</div>
<script type=text/javascript src=/js/bundle.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js></script>
</body>
</html>
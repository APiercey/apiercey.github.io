<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>6 Line Micro Testing Framework - apiercey.github.io</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><link rel=stylesheet href=/css/style.min.b5158346cd0be7c685bb4907526f1b697a94560681b975b89e813e6095001706.css><meta name=description content="A portable and dependency free micro testing framework useful in remote situations"><meta property="og:title" content="6 Line Micro Testing Framework"><meta property="og:type" content="website"><meta property="og:url" content="/posts/6-line-micro-testing-framework/"><meta property="og:image" content="/images/microframework/pollux-and-castor.jpg"><meta property="og:description" content="A portable and dependency free micro testing framework useful in remote situations"><meta name=twitter:card content="summary"><meta name=twitter:site content="@example"><meta name=twitter:creator content="@example"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel=stylesheet></head><body class='page page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-about><a href=/pages/about/>About</a></li><li class=menu-item-blog><a href=/posts/>Blog</a></li><li class=menu-item-projects><a href=/projects/>Projects</a></li><li class=menu-item-articles><a href=/articles/>Articles</a></li></ul></div><div id=wrapper class=wrapper><div class=header><a class=header-logo href=/>apiercey.github.io</a><div class=menu-main><ul><li class=menu-item-about><a href=/pages/about/><span>About</span></a></li><li class="menu-item-blog active"><a href=/posts/><span>Blog</span></a></li><li class=menu-item-projects><a href=/projects/><span>Projects</span></a></li><li class=menu-item-articles><a href=/articles/><span>Articles</span></a></li></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div><div class=blog><div class=intro><h1>6 Line Micro Testing Framework<span class=dot>.</span></h1><img src=/images/microframework/pollux-and-castor.jpg>
<i class=photo-credit><a href=https://www.facebook.com/DeepSkyColors>Pollux and Castor by Rogelio Bernal Andreo</a></i></div><div class=content><p>Normally, I try to write tests for every project I participate in, even personal projects that never see the light of day! Yet, every once in a while, I find myself working in an environment where adding new dependencies isn&rsquo;t so straightforward or tools like RSpec are a bit too bulky. In such cases, I quickly produce a few functions that allow me to execute automated tests.</p><p>In Ruby, it&rsquo;s quite compact and pleasant. Here is an example, at a whopping 6 lines:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-1>1</a></span><span><span style=color:#ff6ac1>module</span> MT
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-2>2</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>assert</span>(desc, left, operator, right <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>nil</span>) <span style=color:#ff6ac1>=</span> <span style=color:#ff5c57>puts</span> (<span style=color:#ff6ac1>if</span> msgs <span style=color:#ff6ac1>=</span> <span style=color:#ff5c57>self</span><span style=color:#ff6ac1>.</span>send(operator, desc, left, right) <span style=color:#ff6ac1>then</span> failure(msgs) <span style=color:#ff6ac1>else</span> success(desc) <span style=color:#ff6ac1>end</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-3>3</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>test</span>(desc, <span style=color:#ff6ac1>&amp;</span>block) ; <span style=color:#ff5c57>puts</span> desc ; <span style=color:#ff6ac1>yield</span> ; <span style=color:#ff5c57>puts</span> <span style=color:#5af78e>&#34;</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>&#34;</span> <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-4>4</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>success</span>(msg) <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;  </span><span style=color:#5af78e>\e</span><span style=color:#5af78e>[32m</span><span style=color:#5af78e>#{</span>msg<span style=color:#5af78e>}</span><span style=color:#5af78e>\e</span><span style=color:#5af78e>[0m&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-5>5</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>failure</span>(msgs) <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;  </span><span style=color:#5af78e>\e</span><span style=color:#5af78e>[31m</span><span style=color:#5af78e>#{</span>msgs<span style=color:#ff6ac1>.</span>join(<span style=color:#5af78e>&#34;</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>    &#34;</span>)<span style=color:#5af78e>}</span><span style=color:#5af78e>\e</span><span style=color:#5af78e>[0m&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-6>6</a></span><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>I <em>sliiightly</em> lied, as it&rsquo;s not very useful on its own. It indeed works as a micro &ldquo;<em>framework</em>&rdquo; so we need to add our own assertions. We can open the module up and define our own.</p><p>An assertion is defined as a method that accepts three arguments: a description, a left comparison, and a right comparison. Its return value should be <code>nil</code> on success and a list of failure messages on failure.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-1>1</a></span><span><span style=color:#ff6ac1>module</span> MT
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-2>2</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>equals</span>(desc, left, right)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-3>3</a></span><span>    <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>nil</span> <span style=color:#ff6ac1>if</span> left <span style=color:#ff6ac1>==</span> right
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-4>4</a></span><span>    <span style=color:#ff6ac1>[</span><span style=color:#5af78e>&#34;</span><span style=color:#5af78e>#{</span>desc<span style=color:#5af78e>}</span><span style=color:#5af78e> failed.&#34;</span>, <span style=color:#5af78e>&#34;Expected: </span><span style=color:#5af78e>#{</span>right<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span>, <span style=color:#5af78e>&#34;Received: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span><span style=color:#ff6ac1>]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-5>5</a></span><span>  <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-6>6</a></span><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>This can be compacted into a single elegant line with ruby 3! We&rsquo;ll do that and add a few more:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-1>1</a></span><span><span style=color:#ff6ac1>module</span> MT
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-2>2</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>equals</span>(desc, left, right) <span style=color:#ff6ac1>=</span> (<span style=color:#ff6ac1>[</span><span style=color:#5af78e>&#34;</span><span style=color:#5af78e>#{</span>desc<span style=color:#5af78e>}</span><span style=color:#5af78e> failed.&#34;</span>, <span style=color:#5af78e>&#34;Expected: </span><span style=color:#5af78e>#{</span>right<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span>, <span style=color:#5af78e>&#34;Received: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span><span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>unless</span> left <span style=color:#ff6ac1>==</span> right)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-3>3</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>doesnt_equal</span>(desc, left, right) <span style=color:#ff6ac1>=</span> (<span style=color:#ff6ac1>[</span><span style=color:#5af78e>&#34;</span><span style=color:#5af78e>#{</span>desc<span style=color:#5af78e>}</span><span style=color:#5af78e> failed.&#34;</span>, <span style=color:#5af78e>&#34;Expected: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e> and </span><span style=color:#5af78e>#{</span>right<span style=color:#5af78e>}</span><span style=color:#5af78e> not to be the same&#34;</span><span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>if</span> equals(desc, left, right))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-4>4</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>contains</span>(desc, left, right) <span style=color:#ff6ac1>=</span> (<span style=color:#ff6ac1>[</span><span style=color:#5af78e>&#34;</span><span style=color:#5af78e>#{</span>desc<span style=color:#5af78e>}</span><span style=color:#5af78e> failed.&#34;</span>, <span style=color:#5af78e>&#34;Expected: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e> to contain </span><span style=color:#5af78e>#{</span>right<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span>, <span style=color:#5af78e>&#34;Received: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span><span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>unless</span> left<span style=color:#ff6ac1>.</span>include?(right))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-5>5</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#f3f99d>self</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>is_a</span>(desc, left, right) <span style=color:#ff6ac1>=</span> (<span style=color:#ff6ac1>[</span><span style=color:#5af78e>&#34;</span><span style=color:#5af78e>#{</span>desc<span style=color:#5af78e>}</span><span style=color:#5af78e> failed.&#34;</span>, <span style=color:#5af78e>&#34;Expected: </span><span style=color:#5af78e>#{</span>left<span style=color:#5af78e>}</span><span style=color:#5af78e> is a </span><span style=color:#5af78e>#{</span>right<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span>, <span style=color:#5af78e>&#34;Received: </span><span style=color:#5af78e>#{</span>left<span style=color:#ff6ac1>.</span>class<span style=color:#5af78e>}</span><span style=color:#5af78e>&#34;</span><span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>unless</span> left<span style=color:#ff6ac1>.</span>is_a?(right))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-6>6</a></span><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><h1 id=test-run>Test Run</h1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-1> 1</a></span><span><span style=color:#78787e>#  basic_comparisons.rb</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-2> 2</a></span><span><span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>test <span style=color:#5af78e>&#34;Basic comparisons&#34;</span> <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-3> 3</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;Comparing values&#34;</span>, <span style=color:#ff9f43>1</span>, <span style=color:#5af78e>:equals</span>, <span style=color:#ff9f43>1</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-4> 4</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;Array contents&#34;</span>, <span style=color:#ff6ac1>[</span><span style=color:#ff9f43>1</span>, <span style=color:#ff9f43>2</span>, <span style=color:#ff9f43>3</span><span style=color:#ff6ac1>]</span>, <span style=color:#5af78e>:contains</span>, <span style=color:#ff9f43>3</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-5> 5</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;Class types&#34;</span>, <span style=color:#5af78e>&#34;Hello world&#34;</span>, <span style=color:#5af78e>:is_a</span>, <span style=color:#ff5c57>String</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-6> 6</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;true is truthy&#34;</span>, <span style=color:#ff6ac1>true</span>, <span style=color:#5af78e>:is_truthy</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-7> 7</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;objects are truthy&#34;</span>, <span style=color:#5af78e>&#34;Technically an object&#34;</span>, <span style=color:#5af78e>:is_truthy</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-8> 8</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;false is falsey&#34;</span>, <span style=color:#ff6ac1>false</span>, <span style=color:#5af78e>:is_falsey</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-9> 9</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;nil is falsey&#34;</span>, <span style=color:#ff6ac1>false</span>, <span style=color:#5af78e>:is_falsey</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-10>10</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;nil is nil&#34;</span>, <span style=color:#ff6ac1>nil</span>, <span style=color:#5af78e>:is_nil</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-11>11</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;Strings can be matched&#34;</span>, <span style=color:#5af78e>&#34;Foo bar&#34;</span>, <span style=color:#5af78e>:matches</span>, <span style=color:#5af78e>/Foo/</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-12>12</a></span><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-13>13</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-14>14</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-15>15</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-16>16</a></span><span><span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>Dog</span> <span style=color:#ff6ac1>&lt;</span> <span style=color:#ff9f43>Animal</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-17>17</a></span><span>  <span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>bark</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-18>18</a></span><span>    <span style=color:#5af78e>&#34;Woof! Woof!&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-19>19</a></span><span>  <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-20>20</a></span><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-21>21</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-22>22</a></span><span><span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>test <span style=color:#5af78e>&#34;Dog&#34;</span> <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-23>23</a></span><span>  dog <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>Dog</span><span style=color:#ff6ac1>.</span>new
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-24>24</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-25>25</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;it is an Animal&#34;</span>, dog, <span style=color:#5af78e>:is_a</span>, <span style=color:#ff9f43>Animal</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-26>26</a></span><span>  <span style=color:#ff9f43>MT</span><span style=color:#ff6ac1>.</span>assert(<span style=color:#5af78e>&#34;it woofs when it barks&#34;</span>, dog<span style=color:#ff6ac1>.</span>bark, <span style=color:#5af78e>:equals</span>, <span style=color:#5af78e>&#34;Woof! Woof!&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-27>27</a></span><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>Executing them yields a nice green run with our assertions categorized under our tests:
<img src=/images/microframework/mt-successes.png alt="MT Execution with Successes"></p><p>Flipping some values shows failure messages:
<img src=/images/microframework/mt-failures.png alt="MT Execution with Failures"></p><h1 id=conclusion>Conclusion</h1><p>And that&rsquo;s it! A dependency free, simple micro testing framework that can be dropped into any project. Particularly useful when installing dependencies isn&rsquo;t practical.</p><p>A full copy of the framework and assertions can be found in <a href=https://gist.github.com/APiercey/70ca3a5c61569d534edc41c85c546cd8>this gist</a>.</p></div></div></div><div class=footer><div class=footer-social><span class="social-icon social-icon-github"><a href=https://github.com/apiercey title=github target=_blank rel=noopener><img src=/images/social/github.svg width=24 height=24 alt=github></a></span>
<span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com/in/alexander-butt-piercey title=linkedin target=_blank rel=noopener><img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin></a></span></div></div></div><script type=text/javascript src=/js/bundle.min.28d149c65e8b43f935b5da6797544f9e363170785f466641db0d007cee894169.js></script></body></html>